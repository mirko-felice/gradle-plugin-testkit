tests:
  - description: "Task 'hello' should succeed."
    configuration:
      tasks: [hello]
    expectation:
      success: [hello]
  - description: "Task 'hello' should produce a correct output."
    configuration:
      tasks: [hello]
      options: [--stacktrace]
    expectation:
      outputContains: ["hello from mirko"]
  - description: "Task 'hello' should not produce a wrong output."
    configuration:
      tasks: [hello]
    expectation:
      outputDoesntContain: ["wrong output"]
  - description: "Task 'generateFile' should produce a correct file."
    configuration:
      tasks: [generateFile]
    expectation:
      fileToExists: [
        {
          name: "test.txt",
          content: "example",
          permissions: [ "R" ]
        }
      ]
  - description: "Task 'generateFile' should be up-to-date now."
    configuration:
      tasks: [generateFile]
    expectation:
      upToDate: [generateFile]
  - description: "Task with name 'wrongTask' should not exist."
    configuration:
      tasks: [wrongTask]
    expectation:
      nonExistent: [wrongTask]
  - description: "Task 'fail' should fail"
    configuration:
      tasks: [fail]
    expectation:
      failure: [fail]
